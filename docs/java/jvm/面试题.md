## 运行时数据区

1. 使用PC寄存器存储字节码指令地址有什么用/为什么PC寄存器记录当前线程的执行地址？

   `因为CPU需要不停切换各个线程（CPU时间片），这个时候切回来后，就需要知道接着从哪里开始执行，JVM的字节码解释器就需要改变PC寄存器的值来明确下一条应该执行什么样的字节码指令。`

2. PC寄存器为什么会被设定为线程私有

   `所谓的多线程其实是CPU不停做任务切换，这样必然导致经常中断或者恢复，为了保证分毫无差，准确记录各个线程正在执行的当前字节码指令地址，需要为每一个线程分配一个PC寄存器，各个线程之间可以进行独立计算，不会出现互相干扰。`

3. 举例栈溢出的情况

   如果线程请求分配的栈容量超过 Java 虚拟机栈允许的最大容量，Java 虚拟机将会抛出一个 **StackOverflowError** 异常。可以通过-Xss设置栈的大小。
   
   `调整栈大小，能保证不出现溢出吗？--不能,比如死循环`
   
   `分配的内存越大越好吗？--不是，内存空间有限，挤占其他内存空间`
   
   `垃圾回收是否涉及到虚拟机栈？--不涉及，只有进栈和出栈`
   
   `方法中定义的局部变量是否是线程安全？--具体问题具体分析。如果只有一个线程可以操作此数据，则必然是线程安全的，如果多个线程操作此数据，则此数据是共享数据，如果不考虑同步机制的话，会存在线程安全问题。`